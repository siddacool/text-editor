var Tn=Object.defineProperty,kn=Object.defineProperties;var On=Object.getOwnPropertyDescriptors;var Ge=Object.getOwnPropertySymbols;var Ot=Object.prototype.hasOwnProperty,It=Object.prototype.propertyIsEnumerable;var kt=(t,e,n)=>e in t?Tn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ue=(t,e)=>{for(var n in e||(e={}))Ot.call(e,n)&&kt(t,n,e[n]);if(Ge)for(var n of Ge(e))It.call(e,n)&&kt(t,n,e[n]);return t},Ce=(t,e)=>kn(t,On(e));var At=(t,e)=>{var n={};for(var o in t)Ot.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&Ge)for(var o of Ge(t))e.indexOf(o)<0&&It.call(t,o)&&(n[o]=t[o]);return n};import{D as en,S as se,i as re,s as le,e as R,c as N,a as O,d as p,b as _,N as tn,g as A,O as P,K as ve,P as be,Q as ye,v as gt,R as Je,T as Rt,U as Nt,J as b,V as nn,G as In,H as An,I as Rn,z as Nn,q as C,o as M,l as ie,n as Pe,p as Me,F as Cn,C as Ln,w as J,x as ne,y as $,B as Q,t as ce,k as z,h as de,m as Z,j as xe,W as on,X as Ct,Y as lt,Z as he,_ as ge,$ as Se,a0 as Sn,r as Lt,a1 as Pn,a2 as Mn}from"./vendor-39d1bfee.js";const xn="finalize",Fn="consider";function Ae(t,e,n){t.dispatchEvent(new CustomEvent(xn,{detail:{items:e,info:n}}))}function me(t,e,n){t.dispatchEvent(new CustomEvent(Fn,{detail:{items:e,info:n}}))}const $e="draggedEntered",He="draggedLeft",Qe="draggedOverIndex",pt="draggedLeftDocument",Ze={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function Bn(t,e,n){t.dispatchEvent(new CustomEvent($e,{detail:{indexObj:e,draggedEl:n}}))}function Hn(t,e,n){t.dispatchEvent(new CustomEvent(He,{detail:{draggedEl:e,type:Ze.LEFT_FOR_ANOTHER,theOtherDz:n}}))}function Un(t,e){t.dispatchEvent(new CustomEvent(He,{detail:{draggedEl:e,type:Ze.OUTSIDE_OF_ANY}}))}function Gn(t,e,n){t.dispatchEvent(new CustomEvent(Qe,{detail:{indexObj:e,draggedEl:n}}))}function zn(t){window.dispatchEvent(new CustomEvent(pt,{detail:{draggedEl:t}}))}const W={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:$e,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Qe,DRAGGED_LEFT:He,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},Y={POINTER:"pointer",KEYBOARD:"keyboard"},et="isDndShadowItem",mt="data-is-dnd-shadow-item",_t="id:dnd-shadow-placeholder-0000",Zn="dnd-action-dragged-el";let B="id",at=0;function sn(){at++}function rn(){if(at===0)throw new Error("Bug! trying to decrement when there are no dropzones");at--}const Dt=typeof window=="undefined";function ln(t){let e;const n=t.getBoundingClientRect(),o=getComputedStyle(t),i=o.transform;if(i){let r,s,l,d;if(i.startsWith("matrix3d("))e=i.slice(9,-1).split(/, /),r=+e[0],s=+e[5],l=+e[12],d=+e[13];else if(i.startsWith("matrix("))e=i.slice(7,-1).split(/, /),r=+e[0],s=+e[3],l=+e[4],d=+e[5];else return n;const u=o.transformOrigin,c=n.x-l-(1-r)*parseFloat(u),g=n.y-d-(1-s)*parseFloat(u.slice(u.indexOf(" ")+1)),a=r?n.width/r:t.offsetWidth,f=s?n.height/s:t.offsetHeight;return{x:c,y:g,width:a,height:f,top:g,right:c+a,bottom:g+f,left:c}}else return n}function an(t){const e=ln(t);return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function wt(t){const e=t.getBoundingClientRect();return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function cn(t){return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}function Vn(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Et(t,e){return t.y<=e.bottom&&t.y>=e.top&&t.x>=e.left&&t.x<=e.right}function Fe(t){return cn(wt(t))}function St(t,e){const n=Fe(t),o=an(e);return Et(n,o)}function Wn(t,e){const n=Fe(t),o=Fe(e);return Vn(n,o)}function Yn(t){const e=wt(t);return e.right<0||e.left>document.documentElement.scrollWidth||e.bottom<0||e.top>document.documentElement.scrollHeight}function jn(t,e){const n=wt(e);return Et(t,n)?{top:t.y-n.top,bottom:n.bottom-t.y,left:t.x-n.left,right:Math.min(n.right,document.documentElement.clientWidth)-t.x}:null}let we;function vt(){we=new Map}vt();function qn(t){we.delete(t)}function Kn(t){const e=Array.from(t.children).findIndex(n=>n.getAttribute(mt));if(e>=0)return we.has(t)||we.set(t,new Map),we.get(t).set(e,an(t.children[e])),e}function Xn(t,e){if(!St(t,e))return null;const n=e.children;if(n.length===0)return{index:0,isProximityBased:!0};const o=Kn(e);for(let s=0;s<n.length;s++)if(St(t,n[s])){const l=we.has(e)&&we.get(e).get(s);return l&&!Et(Fe(t),l)?{index:o,isProximityBased:!1}:{index:s,isProximityBased:!1}}let i=Number.MAX_VALUE,r;for(let s=0;s<n.length;s++){const l=Wn(t,n[s]);l<i&&(i=l,r=s)}return{index:r,isProximityBased:!0}}const Le=25;function dn(){let t;function e(){t={directionObj:void 0,stepPx:0}}e();function n(r){const{directionObj:s,stepPx:l}=t;s&&(r.scrollBy(s.x*l,s.y*l),window.requestAnimationFrame(()=>n(r)))}function o(r){return Le-r}function i(r,s){if(!s)return!1;const l=jn(r,s);if(l===null)return e(),!1;const d=!!t.directionObj;let[u,c]=[!1,!1];return s.scrollHeight>s.clientHeight&&(l.bottom<Le?(u=!0,t.directionObj={x:0,y:1},t.stepPx=o(l.bottom)):l.top<Le&&(u=!0,t.directionObj={x:0,y:-1},t.stepPx=o(l.top)),!d&&u)||s.scrollWidth>s.clientWidth&&(l.right<Le?(c=!0,t.directionObj={x:1,y:0},t.stepPx=o(l.right)):l.left<Le&&(c=!0,t.directionObj={x:-1,y:0},t.stepPx=o(l.left)),!d&&c)?(n(s),!0):(e(),!1)}return{scrollIfNeeded:i,resetScrolling:e}}function st(t){return JSON.stringify(t,null,2)}function Pt(t){if(!t)throw new Error("cannot get depth of a falsy node");return un(t,0)}function un(t,e=0){return t.parentElement?un(t.parentElement,e+1):e-1}function Jn(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!{}.hasOwnProperty.call(e,n)||e[n]!==t[n])return!1;return!0}function $n(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}const Qn=200,Mt=10,{scrollIfNeeded:eo,resetScrolling:to}=dn();let ct;function no(t,e,n=Qn){let o,i,r=!1,s;const l=Array.from(e).sort((u,c)=>Pt(c)-Pt(u));function d(){const u=Fe(t),c=eo(u,o);if(!c&&s&&Math.abs(s.x-u.x)<Mt&&Math.abs(s.y-u.y)<Mt){ct=window.setTimeout(d,n);return}if(Yn(t)){zn(t);return}s=u;let g=!1;for(const a of l){c&&qn(o);const f=Xn(t,a);if(f===null)continue;const{index:h}=f;g=!0,a!==o?(o&&Hn(o,t,a),Bn(a,f,t),o=a):h!==i&&(Gn(a,f,t),i=h);break}!g&&r&&o?(Un(o,t),o=void 0,i=void 0,r=!1):r=!0,ct=window.setTimeout(d,n)}d()}function oo(){clearTimeout(ct),to(),vt()}const io=300;let Ve;function We(t){const e=t.touches?t.touches[0]:t;Ve={x:e.clientX,y:e.clientY}}const{scrollIfNeeded:so,resetScrolling:ro}=dn();let fn;function hn(){Ve&&so(Ve,document.documentElement)&&vt(),fn=window.setTimeout(hn,io)}function lo(){window.addEventListener("mousemove",We),window.addEventListener("touchmove",We),hn()}function ao(){window.removeEventListener("mousemove",We),window.removeEventListener("touchmove",We),Ve=void 0,window.clearTimeout(fn),ro()}function co(t){const e=t.cloneNode(!0),n=[],o=t.tagName==="SELECT",i=o?[t]:[...t.querySelectorAll("select")];for(const s of i)n.push(s.value);if(i.length<=0)return e;const r=o?[e]:[...e.querySelectorAll("select")];for(let s=0;s<r.length;s++){const l=r[s],d=n[s],u=l.querySelector(`option[value="${d}"`);u&&u.setAttribute("selected",!0)}return e}const uo=.2;function _e(t){return`${t} ${uo}s ease`}function fo(t,e){const n=t.getBoundingClientRect(),o=co(t);gn(t,o),o.id=Zn,o.style.position="fixed";let i=n.top,r=n.left;if(o.style.top=`${i}px`,o.style.left=`${r}px`,e){const s=cn(n);i-=s.y-e.y,r-=s.x-e.x,window.setTimeout(()=>{o.style.top=`${i}px`,o.style.left=`${r}px`},0)}return o.style.margin="0",o.style.boxSizing="border-box",o.style.height=`${n.height}px`,o.style.width=`${n.width}px`,o.style.transition=`${_e("top")}, ${_e("left")}, ${_e("background-color")}, ${_e("opacity")}, ${_e("color")} `,window.setTimeout(()=>o.style.transition+=`, ${_e("width")}, ${_e("height")}`,0),o.style.zIndex="9999",o.style.cursor="grabbing",o}function ho(t){t.style.cursor="grab"}function go(t,e,n,o,i){const r=e.getBoundingClientRect(),s=t.getBoundingClientRect(),l=r.width-s.width,d=r.height-s.height;if(l||d){const u={left:(n-s.left)/s.width,top:(o-s.top)/s.height};t.style.height=`${r.height}px`,t.style.width=`${r.width}px`,t.style.left=`${parseFloat(t.style.left)-u.left*l}px`,t.style.top=`${parseFloat(t.style.top)-u.top*d}px`}gn(e,t),i()}function gn(t,e){const n=window.getComputedStyle(t);Array.from(n).filter(o=>o.startsWith("background")||o.startsWith("padding")||o.startsWith("font")||o.startsWith("text")||o.startsWith("align")||o.startsWith("justify")||o.startsWith("display")||o.startsWith("flex")||o.startsWith("border")||o==="opacity"||o==="color"||o==="list-style-type").forEach(o=>e.style.setProperty(o,n.getPropertyValue(o),n.getPropertyPriority(o)))}function po(t,e){t.draggable=!1,t.ondragstart=()=>!1,e?(t.style.userSelect="",t.style.WebkitUserSelect="",t.style.cursor=""):(t.style.userSelect="none",t.style.WebkitUserSelect="none",t.style.cursor="grab")}function mo(t){t.style.display="none",t.style.position="fixed",t.style.zIndex="-5"}function _o(t){t.style.visibility="hidden",t.setAttribute(mt,"true")}function Do(t){t.style.visibility="",t.removeAttribute(mt)}function ze(t,e=()=>{},n=()=>[]){t.forEach(o=>{const i=e(o);Object.keys(i).forEach(r=>{o.style[r]=i[r]}),n(o).forEach(r=>o.classList.add(r))})}function Ye(t,e=()=>{},n=()=>[]){t.forEach(o=>{const i=e(o);Object.keys(i).forEach(r=>{o.style[r]=""}),n(o).forEach(r=>o.classList.contains(r)&&o.classList.remove(r))})}function wo(t){const e=t.style.minHeight;t.style.minHeight=window.getComputedStyle(t).getPropertyValue("height");const n=t.style.minWidth;return t.style.minWidth=window.getComputedStyle(t).getPropertyValue("width"),function(){t.style.minHeight=e,t.style.minWidth=n}}const Eo="--any--",vo=100,xt=3,Ft={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let ae,G,q,tt,S,nt,Re,j,fe,K,Oe=!1,yt=!1,bt,Ue=!1;const te=new Map,F=new Map,rt=new WeakMap;function yo(t,e){te.has(e)||te.set(e,new Set),te.get(e).has(t)||(te.get(e).add(t),sn())}function Bt(t,e){te.get(e).delete(t),rn(),te.get(e).size===0&&te.delete(e)}function bo(){lo();const t=te.get(tt);for(const n of t)n.addEventListener($e,pn),n.addEventListener(He,mn),n.addEventListener(Qe,_n);window.addEventListener(pt,Ne);const e=Math.max(vo,...Array.from(t.keys()).map(n=>F.get(n).dropAnimationDurationMs));no(G,t,e*1.07)}function To(){ao();const t=te.get(tt);for(const e of t)e.removeEventListener($e,pn),e.removeEventListener(He,mn),e.removeEventListener(Qe,_n);window.removeEventListener(pt,Ne),oo()}function ko(t){return t.findIndex(e=>e[B]===_t)}function ot(t){return t.findIndex(e=>!!e[et]&&e[B]!==_t)}function pn(t){let{items:e,dropFromOthersDisabled:n}=F.get(t.currentTarget);if(n&&t.currentTarget!==S)return;if(Ue=!1,e=e.filter(s=>s[B]!==Re[B]),S!==t.currentTarget){const l=F.get(S).items.filter(d=>!d[et]);me(S,l,{trigger:W.DRAGGED_ENTERED_ANOTHER,id:q[B],source:Y.POINTER})}else{const s=ko(e);s!==-1&&e.splice(s,1)}const{index:o,isProximityBased:i}=t.detail.indexObj,r=i&&o===t.currentTarget.children.length-1?o+1:o;j=t.currentTarget,e.splice(r,0,Re),me(t.currentTarget,e,{trigger:W.DRAGGED_ENTERED,id:q[B],source:Y.POINTER})}function mn(t){if(!Oe)return;const{items:e,dropFromOthersDisabled:n}=F.get(t.currentTarget);if(n&&t.currentTarget!==S&&t.currentTarget!==j)return;const o=ot(e),i=e.splice(o,1)[0];j=void 0;const{type:r,theOtherDz:s}=t.detail;if(r===Ze.OUTSIDE_OF_ANY||r===Ze.LEFT_FOR_ANOTHER&&s!==S&&F.get(s).dropFromOthersDisabled){Ue=!0,j=S;const l=F.get(S).items;l.splice(nt,0,i),me(S,l,{trigger:W.DRAGGED_LEFT_ALL,id:q[B],source:Y.POINTER})}me(t.currentTarget,e,{trigger:W.DRAGGED_LEFT,id:q[B],source:Y.POINTER})}function _n(t){const{items:e,dropFromOthersDisabled:n}=F.get(t.currentTarget);if(n&&t.currentTarget!==S)return;Ue=!1;const{index:o}=t.detail.indexObj,i=ot(e);e.splice(i,1),e.splice(o,0,Re),me(t.currentTarget,e,{trigger:W.DRAGGED_OVER_INDEX,id:q[B],source:Y.POINTER})}function je(t){t.preventDefault();const e=t.touches?t.touches[0]:t;K={x:e.clientX,y:e.clientY},G.style.transform=`translate3d(${K.x-fe.x}px, ${K.y-fe.y}px, 0)`}function Ne(){yt=!0,window.removeEventListener("mousemove",je),window.removeEventListener("touchmove",je),window.removeEventListener("mouseup",Ne),window.removeEventListener("touchend",Ne),To(),ho(G),j||(j=S);let{items:t,type:e}=F.get(j);Ye(te.get(e),i=>F.get(i).dropTargetStyle,i=>F.get(i).dropTargetClasses);let n=ot(t);n===-1&&(n=nt),t=t.map(i=>i[et]?q:i);function o(){bt(),Ae(j,t,{trigger:Ue?W.DROPPED_OUTSIDE_OF_ANY:W.DROPPED_INTO_ZONE,id:q[B],source:Y.POINTER}),j!==S&&Ae(S,F.get(S).items,{trigger:W.DROPPED_INTO_ANOTHER,id:q[B],source:Y.POINTER}),Do(j.children[n]),Io()}Oo(n,o)}function Oo(t,e){const n=ln(j.children[t]),o={x:n.left-parseFloat(G.style.left),y:n.top-parseFloat(G.style.top)},{dropAnimationDurationMs:i}=F.get(j),r=`transform ${i}ms ease`;G.style.transition=G.style.transition?G.style.transition+","+r:r,G.style.transform=`translate3d(${o.x}px, ${o.y}px, 0)`,window.setTimeout(e,i)}function Io(){G.remove(),ae.remove(),G=void 0,ae=void 0,q=void 0,tt=void 0,S=void 0,nt=void 0,Re=void 0,j=void 0,fe=void 0,K=void 0,Oe=!1,yt=!1,bt=void 0,Ue=!1}function Ao(t,e){let n=!1;const o={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Ft,dropTargetClasses:[],transformDraggedElement:()=>{},centreDraggedOnCursor:!1};let i=new Map;function r(){window.addEventListener("mousemove",d,{passive:!1}),window.addEventListener("touchmove",d,{passive:!1,capture:!1}),window.addEventListener("mouseup",l,{passive:!1}),window.addEventListener("touchend",l,{passive:!1})}function s(){window.removeEventListener("mousemove",d),window.removeEventListener("touchmove",d),window.removeEventListener("mouseup",l),window.removeEventListener("touchend",l)}function l(){s(),ae=void 0,fe=void 0,K=void 0}function d(a){a.preventDefault();const f=a.touches?a.touches[0]:a;K={x:f.clientX,y:f.clientY},(Math.abs(K.x-fe.x)>=xt||Math.abs(K.y-fe.y)>=xt)&&(s(),c())}function u(a){if(a.target!==a.currentTarget&&(a.target.value!==void 0||a.target.isContentEditable)||a.button||Oe)return;a.stopPropagation();const f=a.touches?a.touches[0]:a;fe={x:f.clientX,y:f.clientY},K=ue({},fe),ae=a.currentTarget,r()}function c(){Oe=!0;const a=i.get(ae);nt=a,S=ae.parentElement;const f=S.getRootNode(),h=f.body||f,{items:D,type:v,centreDraggedOnCursor:x}=o;q=ue({},D[a]),tt=v,Re=Ce(ue({},q),{[et]:!0});const H=Ce(ue({},Re),{[B]:_t});G=fo(ae,x&&K);function T(){G.parentElement?window.requestAnimationFrame(T):(h.appendChild(G),G.focus(),bo(),mo(ae),h.appendChild(ae))}window.requestAnimationFrame(T),ze(Array.from(te.get(o.type)).filter(k=>k===S||!F.get(k).dropFromOthersDisabled),k=>F.get(k).dropTargetStyle,k=>F.get(k).dropTargetClasses),D.splice(a,1,H),bt=wo(S),me(S,D,{trigger:W.DRAG_STARTED,id:q[B],source:Y.POINTER}),window.addEventListener("mousemove",je,{passive:!1}),window.addEventListener("touchmove",je,{passive:!1,capture:!1}),window.addEventListener("mouseup",Ne,{passive:!1}),window.addEventListener("touchend",Ne,{passive:!1})}function g({items:a=void 0,flipDurationMs:f=0,type:h=Eo,dragDisabled:D=!1,morphDisabled:v=!1,dropFromOthersDisabled:x=!1,dropTargetStyle:H=Ft,dropTargetClasses:T=[],transformDraggedElement:k=()=>{},centreDraggedOnCursor:w=!1}){o.dropAnimationDurationMs=f,o.type&&h!==o.type&&Bt(t,o.type),o.type=h,yo(t,h),o.items=[...a],o.dragDisabled=D,o.morphDisabled=v,o.transformDraggedElement=k,o.centreDraggedOnCursor=w,n&&Oe&&!yt&&(!Jn(H,o.dropTargetStyle)||!$n(T,o.dropTargetClasses))&&(Ye([t],()=>o.dropTargetStyle,()=>T),ze([t],()=>H,()=>T)),o.dropTargetStyle=H,o.dropTargetClasses=[...T];function y(m,I){return F.get(m)?F.get(m)[I]:o[I]}n&&Oe&&o.dropFromOthersDisabled!==x&&(x?Ye([t],m=>y(m,"dropTargetStyle"),m=>y(m,"dropTargetClasses")):ze([t],m=>y(m,"dropTargetStyle"),m=>y(m,"dropTargetClasses"))),o.dropFromOthersDisabled=x,F.set(t,o);const E=ot(o.items);for(let m=0;m<t.children.length;m++){const I=t.children[m];if(po(I,D),m===E){v||go(G,I,K.x,K.y,()=>o.transformDraggedElement(G,q,m)),_o(I);continue}I.removeEventListener("mousedown",rt.get(I)),I.removeEventListener("touchstart",rt.get(I)),D||(I.addEventListener("mousedown",u),I.addEventListener("touchstart",u),rt.set(I,u)),i.set(I,m),n||(n=!0)}}return g(e),{update:a=>{g(a)},destroy:()=>{Bt(t,o.type),F.delete(t)}}}const dt={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},Dn={[dt.DND_ZONE_ACTIVE]:"Tab to one the items and press space-bar or enter to start dragging it",[dt.DND_ZONE_DRAG_DISABLED]:"This is a disabled drag and drop list"},Ro="dnd-action-aria-alert";let L;function ut(){L||(L=document.createElement("div"),function(){L.id=Ro,L.style.position="fixed",L.style.bottom="0",L.style.left="0",L.style.zIndex="-5",L.style.opacity="0",L.style.height="0",L.style.width="0",L.setAttribute("role","alert")}(),document.body.prepend(L),Object.entries(Dn).forEach(([t,e])=>document.body.prepend(Lo(t,e))))}function No(){return Dt?null:(document.readyState==="complete"?ut():window.addEventListener("DOMContentLoaded",ut),ue({},dt))}function Co(){Dt||!L||(Object.keys(Dn).forEach(t=>{var e;return(e=document.getElementById(t))==null?void 0:e.remove()}),L.remove(),L=void 0)}function Lo(t,e){const n=document.createElement("div");return n.id=t,n.innerHTML=`<p>${e}</p>`,n.style.display="none",n.style.position="fixed",n.style.zIndex="-5",n}function Ie(t){if(Dt)return;L||ut(),L.innerHTML="";const e=document.createTextNode(t);L.appendChild(e),L.style.display="none",L.style.display="inline"}const So="--any--",Ht={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let X=!1,ft,V,Ee="",De,oe,pe="";const qe=new WeakSet,Ut=new WeakMap,Gt=new WeakMap,ht=new Map,U=new Map,ee=new Map;let Ke;function Po(t,e){ee.size===0&&(Ke=No(),window.addEventListener("keydown",wn),window.addEventListener("click",En)),ee.has(e)||ee.set(e,new Set),ee.get(e).has(t)||(ee.get(e).add(t),sn())}function zt(t,e){V===t&&Be(),ee.get(e).delete(t),rn(),ee.get(e).size===0&&ee.delete(e),ee.size===0&&(window.removeEventListener("keydown",wn),window.removeEventListener("click",En),Ke=void 0,Co())}function wn(t){if(!!X)switch(t.key){case"Escape":{Be();break}}}function En(){!X||qe.has(document.activeElement)||Be()}function Mo(t){if(!X)return;const e=t.currentTarget;if(e===V)return;Ee=e.getAttribute("aria-label")||"";const{items:n}=U.get(V),o=n.find(u=>u[B]===oe),i=n.indexOf(o),r=n.splice(i,1)[0],{items:s,autoAriaDisabled:l}=U.get(e);e.getBoundingClientRect().top<V.getBoundingClientRect().top||e.getBoundingClientRect().left<V.getBoundingClientRect().left?(s.push(r),l||Ie(`Moved item ${pe} to the end of the list ${Ee}`)):(s.unshift(r),l||Ie(`Moved item ${pe} to the beginning of the list ${Ee}`)),Ae(V,n,{trigger:W.DROPPED_INTO_ANOTHER,id:oe,source:Y.KEYBOARD}),Ae(e,s,{trigger:W.DROPPED_INTO_ZONE,id:oe,source:Y.KEYBOARD}),V=e}function vn(){ht.forEach(({update:t},e)=>t(U.get(e)))}function Be(t=!0){U.get(V).autoAriaDisabled||Ie(`Stopped dragging item ${pe}`),qe.has(document.activeElement)&&document.activeElement.blur(),t&&me(V,U.get(V).items,{trigger:W.DRAG_STOPPED,id:oe,source:Y.KEYBOARD}),Ye(ee.get(ft),e=>U.get(e).dropTargetStyle,e=>U.get(e).dropTargetClasses),De=null,oe=null,pe="",ft=null,V=null,Ee="",X=!1,vn()}function xo(t,e){const n={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Ht,dropTargetClasses:[],autoAriaDisabled:!1};function o(c,g,a){c.length<=1||c.splice(a,1,c.splice(g,1,c[a])[0])}function i(c){switch(c.key){case"Enter":case" ":{if((c.target.disabled!==void 0||c.target.href||c.target.isContentEditable)&&!qe.has(c.target))return;c.preventDefault(),c.stopPropagation(),X?Be():r(c);break}case"ArrowDown":case"ArrowRight":{if(!X)return;c.preventDefault(),c.stopPropagation();const{items:g}=U.get(t),a=Array.from(t.children),f=a.indexOf(c.currentTarget);f<a.length-1&&(n.autoAriaDisabled||Ie(`Moved item ${pe} to position ${f+2} in the list ${Ee}`),o(g,f,f+1),Ae(t,g,{trigger:W.DROPPED_INTO_ZONE,id:oe,source:Y.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!X)return;c.preventDefault(),c.stopPropagation();const{items:g}=U.get(t),f=Array.from(t.children).indexOf(c.currentTarget);f>0&&(n.autoAriaDisabled||Ie(`Moved item ${pe} to position ${f} in the list ${Ee}`),o(g,f,f-1),Ae(t,g,{trigger:W.DROPPED_INTO_ZONE,id:oe,source:Y.KEYBOARD}));break}}}function r(c){l(c.currentTarget),V=t,ft=n.type,X=!0;const g=Array.from(ee.get(n.type)).filter(a=>a===V||!U.get(a).dropFromOthersDisabled);if(ze(g,a=>U.get(a).dropTargetStyle,a=>U.get(a).dropTargetClasses),!n.autoAriaDisabled){let a=`Started dragging item ${pe}. Use the arrow keys to move it within its list ${Ee}`;g.length>1&&(a+=", or tab to another list in order to move the item into it"),Ie(a)}me(t,U.get(t).items,{trigger:W.DRAG_STARTED,id:oe,source:Y.KEYBOARD}),vn()}function s(c){!X||c.currentTarget!==De&&(c.stopPropagation(),Be(!1),r(c))}function l(c){const{items:g}=U.get(t),a=Array.from(t.children),f=a.indexOf(c);De=c,De.tabIndex=0,oe=g[f][B],pe=a[f].getAttribute("aria-label")||""}function d({items:c=[],type:g=So,dragDisabled:a=!1,zoneTabIndex:f=0,dropFromOthersDisabled:h=!1,dropTargetStyle:D=Ht,dropTargetClasses:v=[],autoAriaDisabled:x=!1}){n.items=[...c],n.dragDisabled=a,n.dropFromOthersDisabled=h,n.zoneTabIndex=f,n.dropTargetStyle=D,n.dropTargetClasses=v,n.autoAriaDisabled=x,n.type&&g!==n.type&&zt(t,n.type),n.type=g,Po(t,g),x||(t.setAttribute("aria-disabled",a),t.setAttribute("role","list"),t.setAttribute("aria-describedby",a?Ke.DND_ZONE_DRAG_DISABLED:Ke.DND_ZONE_ACTIVE)),U.set(t,n),X?t.tabIndex=t===V||De.contains(t)||n.dropFromOthersDisabled||V&&n.type!==U.get(V).type?-1:0:t.tabIndex=n.zoneTabIndex,t.addEventListener("focus",Mo);for(let H=0;H<t.children.length;H++){const T=t.children[H];qe.add(T),T.tabIndex=X?-1:0,x||T.setAttribute("role","listitem"),T.removeEventListener("keydown",Ut.get(T)),T.removeEventListener("click",Gt.get(T)),a||(T.addEventListener("keydown",i),Ut.set(T,i),T.addEventListener("click",s),Gt.set(T,s)),X&&n.items[H][B]===oe&&(De=T,De.tabIndex=0,T.focus())}}d(e);const u={update:c=>{d(c)},destroy:()=>{zt(t,n.type),U.delete(t),ht.delete(t)}};return ht.set(t,u),u}function Fo(t,e){Zt(e);const n=Ao(t,e),o=xo(t,e);return{update:i=>{Zt(i),n.update(i),o.update(i)},destroy:()=>{n.destroy(),o.destroy()}}}function Zt(t){const D=t,{items:e,flipDurationMs:n,type:o,dragDisabled:i,morphDisabled:r,dropFromOthersDisabled:s,zoneTabIndex:l,dropTargetStyle:d,dropTargetClasses:u,transformDraggedElement:c,autoAriaDisabled:g,centreDraggedOnCursor:a}=D,f=At(D,["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor"]);if(Object.keys(f).length>0&&console.warn("dndzone will ignore unknown options",f),!e)throw new Error("no 'items' key provided to dndzone");const h=e.find(v=>!{}.hasOwnProperty.call(v,B));if(h)throw new Error(`missing '${B}' property for item ${st(h)}`);if(u&&!Array.isArray(u))throw new Error(`dropTargetClasses should be an array but instead it is a ${typeof u}, ${st(u)}`);if(l&&!Bo(l))throw new Error(`zoneTabIndex should be a number but instead it is a ${typeof l}, ${st(l)}`)}function Bo(t){return!isNaN(t)&&function(e){return(e|0)===e}(parseFloat(t))}const Ho=t=>t.replace(/&lt;/g,"<").replace(/&gt;/g,">");function Uo(t){const{subscribe:e,update:n,set:o}=en(t);return{subscribe:e,forceSet:i=>o(i),add:(i,r)=>{const{textData:s="yo",focus:l=!1,at:d=null}=r||{};return n(u=>{const c=u.map(g=>Ce(ue({},g),{focus:!1}));return d||d===0?c.splice(d+1,0,{id:`${Date.now()}`,type:i,textData:s,focus:l}):c.push({id:`${Date.now()}`,type:i,textData:s,focus:l}),c})},remove:i=>n(r=>r.filter(s=>s.id!==i)),modify:(i,r)=>n(s=>s.map(l=>(l.id!==i||(l.textData=Ho(r)),l))),turnInto:(i,r)=>n(s=>s.map(l=>(l.id!==i||(l.type=r),l))),duplicate:i=>n(r=>{const s=r.map(d=>Ce(ue({},d),{focus:!1})),l=s.find(d=>d.id===i);if(l){const d=s.findIndex(g=>g.id===i),{textData:u,type:c}=l;s.splice(d+1,0,{id:`${Date.now()}`,type:c,textData:u,focus:!0})}return s})}}function Go(t){let e,n,o;return{c(){e=R("div"),this.h()},l(i){e=N(i,"DIV",{class:!0,contenteditable:!0}),O(e).forEach(p),this.h()},h(){_(e,"class","plugin plugin-div svelte-5r29a4"),_(e,"contenteditable","true"),t[0]===void 0&&tn(()=>t[6].call(e))},m(i,r){A(i,e,r),t[0]!==void 0&&(e.innerHTML=t[0]),t[7](e),n||(o=[P(e,"input",t[6]),P(e,"blur",t[2]),P(e,"keydown",t[3])],n=!0)},p(i,[r]){r&1&&i[0]!==e.innerHTML&&(e.innerHTML=i[0])},i:ve,o:ve,d(i){i&&p(e),t[7](null),n=!1,be(o)}}}function zo(t,e,n){let{block:o}=e,{index:i}=e,r=o.textData,s;const l=ye("blocks"),d=ye("addBlockPosition"),u=()=>{l.modify(o.id,r)},c=()=>{s.focus();let h=window.getSelection();h.selectAllChildren(s),h.collapseToEnd()},g=h=>{if(h.key==="Enter"){if(h.shiftKey)return;s.blur(),d.forceSet(i)}};gt(()=>o.focus&&c());function a(){r=this.innerHTML,n(0,r)}function f(h){Je[h?"unshift":"push"](()=>{s=h,n(1,s)})}return t.$$set=h=>{"block"in h&&n(4,o=h.block),"index"in h&&n(5,i=h.index)},[r,s,u,g,o,i,a,f]}class Zo extends se{constructor(e){super();re(this,e,zo,Go,le,{block:4,index:5})}}const Vo={id:"plugin-div",type:"text",name:"Div",description:"Plugin Div. This is a description for this plugin. This is simple div",component:Zo};function Wo(t){let e,n,o;return{c(){e=R("h1"),this.h()},l(i){e=N(i,"H1",{class:!0,contenteditable:!0}),O(e).forEach(p),this.h()},h(){_(e,"class","plugin plugin-h1"),_(e,"contenteditable","true"),t[0]===void 0&&tn(()=>t[6].call(e))},m(i,r){A(i,e,r),t[0]!==void 0&&(e.innerHTML=t[0]),t[7](e),n||(o=[P(e,"input",t[6]),P(e,"blur",t[2]),P(e,"keydown",t[3])],n=!0)},p(i,[r]){r&1&&i[0]!==e.innerHTML&&(e.innerHTML=i[0])},i:ve,o:ve,d(i){i&&p(e),t[7](null),n=!1,be(o)}}}function Yo(t,e,n){let{block:o}=e,{index:i}=e,r=o.textData,s;const l=ye("blocks"),d=ye("addBlockPosition"),u=()=>{l.modify(o.id,r)},c=()=>{s.focus();let h=window.getSelection();h.selectAllChildren(s),h.collapseToEnd()},g=h=>{if(h.key==="Enter"){if(h.shiftKey)return;s.blur(),d.forceSet(i)}};gt(()=>o.focus&&c());function a(){r=this.innerHTML,n(0,r)}function f(h){Je[h?"unshift":"push"](()=>{s=h,n(1,s)})}return t.$$set=h=>{"block"in h&&n(4,o=h.block),"index"in h&&n(5,i=h.index)},[r,s,u,g,o,i,a,f]}class jo extends se{constructor(e){super();re(this,e,Yo,Wo,le,{block:4,index:5})}}const qo={id:"plugin-h1",type:"text",name:"H1",description:"Heading 1",component:jo},yn=Vo,Ko=qo,Xe=[yn,Ko];function Xo(t){const e=n=>{t&&!t.contains(n.target)&&!n.defaultPrevented&&t.dispatchEvent(new CustomEvent("click_outside",t))};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}}function Vt(t){let e,n,o,i,r,s,l;const d=t[7].default,u=Cn(d,t,t[6],null);let c=[{class:o=`dropdown ${t[2]||""}`},t[0]],g={};for(let a=0;a<c.length;a+=1)g=Ln(g,c[a]);return{c(){e=R("div"),n=R("ul"),u&&u.c(),this.h()},l(a){e=N(a,"DIV",{class:!0});var f=O(e);n=N(f,"UL",{class:!0});var h=O(n);u&&u.l(h),h.forEach(p),f.forEach(p),this.h()},h(){Rt(n,g),Nt(n,"svelte-7x1xpp",!0),_(e,"class","svelte-7x1xpp")},m(a,f){A(a,e,f),b(e,n),u&&u.m(n,null),t[8](e),r=!0,s||(l=[nn(i=Xo.call(null,n)),P(n,"click_outside",t[4])],s=!0)},p(a,f){u&&u.p&&(!r||f&64)&&In(u,d,a,a[6],r?Rn(d,a[6],f,null):An(a[6]),null),Rt(n,g=Nn(c,[(!r||f&4&&o!==(o=`dropdown ${a[2]||""}`))&&{class:o},f&1&&a[0]])),Nt(n,"svelte-7x1xpp",!0)},i(a){r||(C(u,a),r=!0)},o(a){M(u,a),r=!1},d(a){a&&p(e),u&&u.d(a),t[8](null),s=!1,be(l)}}}function Jo(t){let e,n,o=t[1]&&Vt(t);return{c(){o&&o.c(),e=ie()},l(i){o&&o.l(i),e=ie()},m(i,r){o&&o.m(i,r),A(i,e,r),n=!0},p(i,[r]){i[1]?o?(o.p(i,r),r&2&&C(o,1)):(o=Vt(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Pe(),M(o,1,1,()=>{o=null}),Me())},i(i){n||(C(o),n=!0)},o(i){M(o),n=!1},d(i){o&&o.d(i),i&&p(e)}}}function $o(t,e,n){let{$$slots:o={},$$scope:i}=e,{props:r={}}=e,{open:s=!1}=e,{onClose:l}=e,{class:d=""}=e,u;function c(){l()}function g(a){Je[a?"unshift":"push"](()=>{u=a,n(3,u)})}return t.$$set=a=>{"props"in a&&n(0,r=a.props),"open"in a&&n(1,s=a.open),"onClose"in a&&n(5,l=a.onClose),"class"in a&&n(2,d=a.class),"$$scope"in a&&n(6,i=a.$$scope)},[r,s,d,u,c,l,i,o,g]}class bn extends se{constructor(e){super();re(this,e,$o,Jo,le,{props:0,open:1,onClose:5,class:2})}}function Wt(t,e,n){const o=t.slice();return o[5]=e[n].id,o[6]=e[n].name,o[7]=e[n].description,o}function Yt(t){let e,n,o=t[6]+"",i,r,s,l=t[7]+"",d,u,c,g;function a(){return t[4](t[5])}return{c(){e=R("li"),n=R("div"),i=ce(o),r=z(),s=R("div"),d=ce(l),u=z(),this.h()},l(f){e=N(f,"LI",{class:!0});var h=O(e);n=N(h,"DIV",{class:!0});var D=O(n);i=de(D,o),D.forEach(p),r=Z(h),s=N(h,"DIV",{class:!0});var v=O(s);d=de(v,l),v.forEach(p),u=Z(h),h.forEach(p),this.h()},h(){_(n,"class","icon svelte-war6df"),_(s,"class","description svelte-war6df"),_(e,"class","svelte-war6df")},m(f,h){A(f,e,h),b(e,n),b(n,i),b(e,r),b(e,s),b(s,d),b(e,u),c||(g=P(e,"click",a),c=!0)},p(f,h){t=f,h&1&&o!==(o=t[6]+"")&&xe(i,o),h&1&&l!==(l=t[7]+"")&&xe(d,l)},d(f){f&&p(e),c=!1,g()}}}function Qo(t){let e,n=t[0],o=[];for(let i=0;i<n.length;i+=1)o[i]=Yt(Wt(t,n,i));return{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=ie()},l(i){for(let r=0;r<o.length;r+=1)o[r].l(i);e=ie()},m(i,r){for(let s=0;s<o.length;s+=1)o[s].m(i,r);A(i,e,r)},p(i,r){if(r&3){n=i[0];let s;for(s=0;s<n.length;s+=1){const l=Wt(i,n,s);o[s]?o[s].p(l,r):(o[s]=Yt(l),o[s].c(),o[s].m(e.parentNode,e))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(i){on(o,i),i&&p(e)}}}function ei(t){let e,n;return e=new bn({props:{class:"plugin-dropdown",open:t[2],onClose:t[3],$$slots:{default:[Qo]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},l(o){ne(e.$$.fragment,o)},m(o,i){$(e,o,i),n=!0},p(o,[i]){const r={};i&4&&(r.open=o[2]),i&8&&(r.onClose=o[3]),i&1027&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function ti(t,e,n){let{plugins:o}=e,{handleAdd:i}=e,{showDropDown:r}=e,{onClose:s}=e;const l=d=>i(d);return t.$$set=d=>{"plugins"in d&&n(0,o=d.plugins),"handleAdd"in d&&n(1,i=d.handleAdd),"showDropDown"in d&&n(2,r=d.showDropDown),"onClose"in d&&n(3,s=d.onClose)},[o,i,r,s,l]}class ni extends se{constructor(e){super();re(this,e,ti,ei,le,{plugins:0,handleAdd:1,showDropDown:2,onClose:3})}}function oi(t){let e,n;return e=new ni({props:{handleAdd:t[0],showDropDown:t[1],onClose:t[2],plugins:Xe}}),{c(){J(e.$$.fragment)},l(o){ne(e.$$.fragment,o)},m(o,i){$(e,o,i),n=!0},p(o,[i]){const r={};i&1&&(r.handleAdd=o[0]),i&2&&(r.showDropDown=o[1]),i&4&&(r.onClose=o[2]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function ii(t,e,n){let{handleAdd:o}=e,{showDropDown:i}=e,{onClose:r}=e;return t.$$set=s=>{"handleAdd"in s&&n(0,o=s.handleAdd),"showDropDown"in s&&n(1,i=s.showDropDown),"onClose"in s&&n(2,r=s.onClose)},[o,i,r]}class si extends se{constructor(e){super();re(this,e,ii,oi,le,{handleAdd:0,showDropDown:1,onClose:2})}}function jt(t){let e,n,o;return{c(){e=R("input"),this.h()},l(i){e=N(i,"INPUT",{type:!0,placeholder:!0,class:!0}),this.h()},h(){_(e,"type","text"),_(e,"placeholder","type / for more options"),_(e,"class","svelte-1kmrntw")},m(i,r){A(i,e,r),Ct(e,t[0]),t[9](e),n||(o=[P(e,"input",t[8]),P(e,"keydown",t[5])],n=!0)},p(i,r){r&1&&e.value!==i[0]&&Ct(e,i[0])},d(i){i&&p(e),t[9](null),n=!1,be(o)}}}function ri(t){let e,n,o,i;n=new si({props:{handleAdd:t[4],showDropDown:t[1],onClose:t[6]}});let r=!t[1]&&jt(t);return{c(){e=R("div"),J(n.$$.fragment),o=z(),r&&r.c()},l(s){e=N(s,"DIV",{});var l=O(e);ne(n.$$.fragment,l),o=Z(l),r&&r.l(l),l.forEach(p)},m(s,l){A(s,e,l),$(n,e,null),b(e,o),r&&r.m(e,null),i=!0},p(s,[l]){const d={};l&2&&(d.showDropDown=s[1]),n.$set(d),s[1]?r&&(r.d(1),r=null):r?r.p(s,l):(r=jt(s),r.c(),r.m(e,null))},i(s){i||(C(n.$$.fragment,s),i=!0)},o(s){M(n.$$.fragment,s),i=!1},d(s){s&&p(e),Q(n),r&&r.d()}}}function li(t,e,n){let o;const i=ye("blocks"),r=ye("addBlockPosition");lt(t,r,D=>n(10,o=D));let{onUpdate:s}=e,l="",d=!1,u;const c=D=>{n(1,d=!1),n(0,l=""),i.add(D,{focus:!0,at:o}),s(),r.forceSet(null)},g=D=>{D.key==="/"?n(1,d=!0):D.key==="Enter"&&(D.preventDefault(),i.add("plugin-div",{focus:!0,at:o,textData:l}),s(),n(0,l=""),r.forceSet(null))},a=()=>{n(1,d=!1)};gt(()=>u.focus());function f(){l=this.value,n(0,l)}function h(D){Je[D?"unshift":"push"](()=>{u=D,n(2,u)})}return t.$$set=D=>{"onUpdate"in D&&n(7,s=D.onUpdate)},[l,d,u,r,c,g,a,s,f,h]}class Tt extends se{constructor(e){super();re(this,e,li,ri,le,{onUpdate:7})}}function qt(t,e,n){const o=t.slice();return o[11]=e[n].id,o[12]=e[n].name,o[13]=e[n].description,o}function Kt(t){let e,n,o=t[12]+"",i,r,s,l=t[13]+"",d,u,c,g;function a(){return t[9](t[11])}return{c(){e=R("li"),n=R("div"),i=ce(o),r=z(),s=R("div"),d=ce(l),u=z(),this.h()},l(f){e=N(f,"LI",{class:!0});var h=O(e);n=N(h,"DIV",{class:!0});var D=O(n);i=de(D,o),D.forEach(p),r=Z(h),s=N(h,"DIV",{class:!0});var v=O(s);d=de(v,l),v.forEach(p),u=Z(h),h.forEach(p),this.h()},h(){_(n,"class","icon svelte-1moxyvq"),_(s,"class","description svelte-1moxyvq"),_(e,"class","plugins")},m(f,h){A(f,e,h),b(e,n),b(n,i),b(e,r),b(e,s),b(s,d),b(e,u),c||(g=P(e,"click",a),c=!0)},p(f,h){t=f,h&1&&o!==(o=t[12]+"")&&xe(i,o),h&1&&l!==(l=t[13]+"")&&xe(d,l)},d(f){f&&p(e),c=!1,g()}}}function ai(t){let e,n,o,i,r,s,l,d,u,c,g,a,f,h,D,v,x,H,T=Xe.filter(t[8]),k=[];for(let w=0;w<T.length;w+=1)k[w]=Kt(qt(t,T,w));return{c(){e=R("li"),n=he("svg"),o=he("path"),i=ce(" Remove"),r=z(),s=R("li"),l=he("svg"),d=he("path"),u=ce(" Duplicate"),c=z(),g=R("hr"),a=z(),f=R("div"),h=ce("Turn into"),D=z();for(let w=0;w<k.length;w+=1)k[w].c();v=ie(),this.h()},l(w){e=N(w,"LI",{});var y=O(e);n=ge(y,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var E=O(n);o=ge(E,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),O(o).forEach(p),E.forEach(p),i=de(y," Remove"),y.forEach(p),r=Z(w),s=N(w,"LI",{});var m=O(s);l=ge(m,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var I=O(l);d=ge(I,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),O(d).forEach(p),I.forEach(p),u=de(m," Duplicate"),m.forEach(p),c=Z(w),g=N(w,"HR",{}),a=Z(w),f=N(w,"DIV",{class:!0});var Te=O(f);h=de(Te,"Turn into"),Te.forEach(p),D=Z(w);for(let ke=0;ke<k.length;ke+=1)k[ke].l(w);v=ie(),this.h()},h(){_(o,"stroke-linecap","round"),_(o,"stroke-linejoin","round"),_(o,"stroke-width","2"),_(o,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),_(n,"class","w-6 h-6 svelte-1moxyvq"),_(n,"fill","none"),_(n,"stroke","currentColor"),_(n,"viewBox","0 0 24 24"),_(n,"xmlns","http://www.w3.org/2000/svg"),_(d,"stroke-linecap","round"),_(d,"stroke-linejoin","round"),_(d,"stroke-width","2"),_(d,"d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"),_(l,"class","w-6 h-6 svelte-1moxyvq"),_(l,"fill","none"),_(l,"stroke","currentColor"),_(l,"viewBox","0 0 24 24"),_(l,"xmlns","http://www.w3.org/2000/svg"),_(f,"class","rigid")},m(w,y){A(w,e,y),b(e,n),b(n,o),b(e,i),A(w,r,y),A(w,s,y),b(s,l),b(l,d),b(s,u),A(w,c,y),A(w,g,y),A(w,a,y),A(w,f,y),b(f,h),A(w,D,y);for(let E=0;E<k.length;E+=1)k[E].m(w,y);A(w,v,y),x||(H=[P(e,"click",t[4]),P(s,"click",t[5])],x=!0)},p(w,y){if(y&65){T=Xe.filter(w[8]);let E;for(E=0;E<T.length;E+=1){const m=qt(w,T,E);k[E]?k[E].p(m,y):(k[E]=Kt(m),k[E].c(),k[E].m(v.parentNode,v))}for(;E<k.length;E+=1)k[E].d(1);k.length=T.length}},d(w){w&&p(e),w&&p(r),w&&p(s),w&&p(c),w&&p(g),w&&p(a),w&&p(f),w&&p(D),on(k,w),w&&p(v),x=!1,be(H)}}}function ci(t){let e,n,o,i,r,s,l,d,u;return s=new bn({props:{open:t[1],onClose:t[2],class:"menu",$$slots:{default:[ai]},$$scope:{ctx:t}}}),{c(){e=R("button"),n=he("svg"),o=he("path"),i=z(),r=R("section"),J(s.$$.fragment),this.h()},l(c){e=N(c,"BUTTON",{class:!0});var g=O(e);n=ge(g,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var a=O(n);o=ge(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),O(o).forEach(p),a.forEach(p),g.forEach(p),i=Z(c),r=N(c,"SECTION",{class:!0});var f=O(r);ne(s.$$.fragment,f),f.forEach(p),this.h()},h(){_(o,"stroke-linecap","round"),_(o,"stroke-linejoin","round"),_(o,"stroke-width","2"),_(o,"d","M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"),_(n,"class","w-6 h-6 svelte-1moxyvq"),_(n,"fill","none"),_(n,"stroke","currentColor"),_(n,"viewBox","0 0 24 24"),_(n,"xmlns","http://www.w3.org/2000/svg"),_(e,"class","more svelte-1moxyvq"),_(r,"class","svelte-1moxyvq")},m(c,g){A(c,e,g),b(e,n),b(n,o),A(c,i,g),A(c,r,g),$(s,r,null),l=!0,d||(u=P(e,"click",t[3]),d=!0)},p(c,[g]){const a={};g&2&&(a.open=c[1]),g&65537&&(a.$$scope={dirty:g,ctx:c}),s.$set(a)},i(c){l||(C(s.$$.fragment,c),l=!0)},o(c){M(s.$$.fragment,c),l=!1},d(c){c&&p(e),c&&p(i),c&&p(r),Q(s),d=!1,u()}}}function di(t,e,n){let{onUpdate:o}=e,{block:i}=e;const r=ye("blocks");let s=!1;const l=()=>{n(1,s=!1)},d=()=>{n(1,s=!0)},u=()=>{l(),r.remove(i.id),o()},c=()=>{l(),r.duplicate(i.id),o()},g=(h,D)=>{l(),r.turnInto(h,D),o()},a=h=>h.id!==i.type,f=h=>g(i.id,h);return t.$$set=h=>{"onUpdate"in h&&n(7,o=h.onUpdate),"block"in h&&n(0,i=h.block)},[i,s,l,d,u,c,g,o,a,f]}class ui extends se{constructor(e){super();re(this,e,di,ci,le,{onUpdate:7,block:0})}}function fi(t){let e,n,o,i,r,s,l,d,u;return s=new ui({props:{onUpdate:t[2],block:t[3]}}),{c(){e=R("div"),n=R("div"),o=he("svg"),i=he("path"),r=z(),J(s.$$.fragment),this.h()},l(c){e=N(c,"DIV",{class:!0});var g=O(e);n=N(g,"DIV",{class:!0});var a=O(n);o=ge(a,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var f=O(o);i=ge(f,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),O(i).forEach(p),f.forEach(p),a.forEach(p),r=Z(g),ne(s.$$.fragment,g),g.forEach(p),this.h()},h(){_(i,"fill-rule","evenodd"),_(i,"d","M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"),_(i,"clip-rule","evenodd"),_(o,"class","w-6 h-6 svelte-1nub4uw"),_(o,"fill","currentColor"),_(o,"viewBox","0 0 20 20"),_(o,"xmlns","http://www.w3.org/2000/svg"),_(n,"class","handle svelte-1nub4uw"),_(e,"class","options-menu svelte-1nub4uw")},m(c,g){A(c,e,g),b(e,n),b(n,o),b(o,i),b(e,r),$(s,e,null),l=!0,d||(u=[P(n,"mousedown",function(){Se(t[1])&&t[1].apply(this,arguments)}),P(n,"touchstart",function(){Se(t[1])&&t[1].apply(this,arguments)}),P(n,"mouseup",function(){Se(t[0])&&t[0].apply(this,arguments)}),P(n,"touchend",function(){Se(t[0])&&t[0].apply(this,arguments)})],d=!0)},p(c,[g]){t=c;const a={};g&4&&(a.onUpdate=t[2]),g&8&&(a.block=t[3]),s.$set(a)},i(c){l||(C(s.$$.fragment,c),l=!0)},o(c){M(s.$$.fragment,c),l=!1},d(c){c&&p(e),Q(s),d=!1,be(u)}}}function hi(t,e,n){let{stopDrag:o}=e,{startDrag:i}=e,{onUpdate:r}=e,{block:s}=e;return t.$$set=l=>{"stopDrag"in l&&n(0,o=l.stopDrag),"startDrag"in l&&n(1,i=l.startDrag),"onUpdate"in l&&n(2,r=l.onUpdate),"block"in l&&n(3,s=l.block)},[o,i,r,s]}class gi extends se{constructor(e){super();re(this,e,hi,fi,le,{stopDrag:0,startDrag:1,onUpdate:2,block:3})}}function pi(t){let e,n,o,i,r;n=new gi({props:{stopDrag:t[1],startDrag:t[2],block:t[0],onUpdate:t[4]}});var s=t[5].component;function l(d){return{props:{block:d[0],index:d[3]}}}return s&&(i=new s(l(t))),{c(){e=R("div"),J(n.$$.fragment),o=z(),i&&J(i.$$.fragment),this.h()},l(d){e=N(d,"DIV",{class:!0});var u=O(e);ne(n.$$.fragment,u),o=Z(u),i&&ne(i.$$.fragment,u),u.forEach(p),this.h()},h(){_(e,"class","block")},m(d,u){A(d,e,u),$(n,e,null),b(e,o),i&&$(i,e,null),r=!0},p(d,[u]){const c={};u&2&&(c.stopDrag=d[1]),u&4&&(c.startDrag=d[2]),u&1&&(c.block=d[0]),u&16&&(c.onUpdate=d[4]),n.$set(c);const g={};if(u&1&&(g.block=d[0]),u&8&&(g.index=d[3]),s!==(s=d[5].component)){if(i){Pe();const a=i;M(a.$$.fragment,1,0,()=>{Q(a,1)}),Me()}s?(i=new s(l(d)),J(i.$$.fragment),C(i.$$.fragment,1),$(i,e,null)):i=null}else s&&i.$set(g)},i(d){r||(C(n.$$.fragment,d),i&&C(i.$$.fragment,d),r=!0)},o(d){M(n.$$.fragment,d),i&&M(i.$$.fragment,d),r=!1},d(d){d&&p(e),Q(n),i&&Q(i)}}}function mi(t,e,n){let o,{block:i}=e,{stopDrag:r}=e,{startDrag:s}=e,{index:l}=e,{onUpdate:d}=e;return t.$$set=u=>{"block"in u&&n(0,i=u.block),"stopDrag"in u&&n(1,r=u.stopDrag),"startDrag"in u&&n(2,s=u.startDrag),"index"in u&&n(3,l=u.index),"onUpdate"in u&&n(4,d=u.onUpdate)},t.$$.update=()=>{t.$$.dirty&1&&n(5,o=Xe.find(u=>u.id===i.type)||yn)},[i,r,s,l,d,o]}class _i extends se{constructor(e){super();re(this,e,mi,pi,le,{block:0,stopDrag:1,startDrag:2,index:3,onUpdate:4})}}function Di(){const{subscribe:t,set:e}=en(null);return{subscribe:t,forceSet:n=>e(n)}}function Xt(t,e,n){const o=t.slice();return o[14]=e[n],o[16]=n,o}function wi(t){let e,n;return e=new Tt({props:{onUpdate:t[7]}}),{c(){J(e.$$.fragment)},l(o){ne(e.$$.fragment,o)},m(o,i){$(e,o,i),n=!0},p:ve,i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function Ei(t){let e,n;return e=new Tt({props:{onUpdate:t[7]}}),{c(){J(e.$$.fragment)},l(o){ne(e.$$.fragment,o)},m(o,i){$(e,o,i),n=!0},p:ve,i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function Jt(t,e){let n,o,i,r,s,l,d;o=new _i({props:{block:e[14],startDrag:e[8],stopDrag:e[9],index:e[16],onUpdate:e[7]}});const u=[Ei,wi],c=[];function g(a,f){return a[2]===null&&a[16]===a[0].length-1?0:(a[2]||a[2]===0)&&a[2]===a[16]?1:-1}return~(r=g(e))&&(s=c[r]=u[r](e)),{key:t,first:null,c(){n=ie(),J(o.$$.fragment),i=z(),s&&s.c(),l=ie(),this.h()},l(a){n=ie(),ne(o.$$.fragment,a),i=Z(a),s&&s.l(a),l=ie(),this.h()},h(){this.first=n},m(a,f){A(a,n,f),$(o,a,f),A(a,i,f),~r&&c[r].m(a,f),A(a,l,f),d=!0},p(a,f){e=a;const h={};f&1&&(h.block=e[14]),f&1&&(h.index=e[16]),o.$set(h);let D=r;r=g(e),r===D?~r&&c[r].p(e,f):(s&&(Pe(),M(c[D],1,1,()=>{c[D]=null}),Me()),~r?(s=c[r],s?s.p(e,f):(s=c[r]=u[r](e),s.c()),C(s,1),s.m(l.parentNode,l)):s=null)},i(a){d||(C(o.$$.fragment,a),C(s),d=!0)},o(a){M(o.$$.fragment,a),M(s),d=!1},d(a){a&&p(n),Q(o,a),a&&p(i),~r&&c[r].d(a),a&&p(l)}}}function $t(t){let e,n;return e=new Tt({props:{onUpdate:t[7]}}),{c(){J(e.$$.fragment)},l(o){ne(e.$$.fragment,o)},m(o,i){$(e,o,i),n=!0},p:ve,i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function vi(t){let e,n,o=[],i=new Map,r,s,l,d,u,c,g,a,f,h,D=JSON.stringify(t[1])+"",v,x,H,T,k=t[0];const w=E=>E[14].id;for(let E=0;E<k.length;E+=1){let m=Xt(t,k,E),I=w(m);i.set(I,o[E]=Jt(I,m))}let y=!t[0].length&&$t(t);return{c(){e=R("div"),n=R("section");for(let E=0;E<o.length;E+=1)o[E].c();r=z(),y&&y.c(),l=z(),d=R("br"),u=z(),c=R("br"),g=z(),a=R("div"),f=ce(`Preview
    `),h=R("div"),v=ce(D),this.h()},l(E){e=N(E,"DIV",{class:!0});var m=O(e);n=N(m,"SECTION",{class:!0});var I=O(n);for(let it=0;it<o.length;it+=1)o[it].l(I);r=Z(I),y&&y.l(I),I.forEach(p),l=Z(m),d=N(m,"BR",{}),u=Z(m),c=N(m,"BR",{}),g=Z(m),a=N(m,"DIV",{});var Te=O(a);f=de(Te,`Preview
    `),h=N(Te,"DIV",{});var ke=O(h);v=de(ke,D),ke.forEach(p),Te.forEach(p),m.forEach(p),this.h()},h(){_(n,"class","svelte-1defr51"),_(e,"class","text-editor svelte-1defr51")},m(E,m){A(E,e,m),b(e,n);for(let I=0;I<o.length;I+=1)o[I].m(n,null);b(n,r),y&&y.m(n,null),b(e,l),b(e,d),b(e,u),b(e,c),b(e,g),b(e,a),b(a,f),b(a,h),b(h,v),x=!0,H||(T=[nn(s=Fo.call(null,n,{items:t[0],flipDurationMs:Qt})),P(n,"consider",t[5]),P(n,"finalize",t[6])],H=!0)},p(E,[m]){m&901&&(k=E[0],Pe(),o=Sn(o,m,w,1,E,k,i,n,Mn,Jt,r,Xt),Me()),E[0].length?y&&(Pe(),M(y,1,1,()=>{y=null}),Me()):y?(y.p(E,m),m&1&&C(y,1)):(y=$t(E),y.c(),C(y,1),y.m(n,null)),s&&Se(s.update)&&m&1&&s.update.call(null,{items:E[0],flipDurationMs:Qt}),(!x||m&2)&&D!==(D=JSON.stringify(E[1])+"")&&xe(v,D)},i(E){if(!x){for(let m=0;m<k.length;m+=1)C(o[m]);C(y),x=!0}},o(E){for(let m=0;m<o.length;m+=1)M(o[m]);M(y),x=!1},d(E){E&&p(e);for(let m=0;m<o.length;m+=1)o[m].d();y&&y.d(),H=!1,be(T)}}}const Qt=300;function yi(t,e,n){let o,i,{value:r=[]}=e,{onChange:s=v=>{}}=e;const l=Uo(r);lt(t,l,v=>n(1,o=v));const d=Di();lt(t,d,v=>n(2,i=v)),Lt("blocks",l),Lt("addBlockPosition",d);const u=l.subscribe(v=>{console.log(v),s(v)});Pn(u);let c=o;function g(v){n(0,c=v.detail.items)}function a(v){n(0,c=v.detail.items),l.forceSet(c)}function f(){console.log("yo"),n(0,c=[...o])}const h=()=>{},D=()=>{};return t.$$set=v=>{"value"in v&&n(10,r=v.value),"onChange"in v&&n(11,s=v.onChange)},t.$$.update=()=>{t.$$.dirty&1&&console.log(c)},[c,o,i,l,d,g,a,f,h,D,r,s]}class ki extends se{constructor(e){super();re(this,e,yi,vi,le,{value:10,onChange:11})}}export{ki as default};
